# Project Handbook: BlogMix 2.0 ğŸ“˜

é€™ä»½æ‰‹å†Šæ˜¯å”åŠ©é–‹ç™¼è€…ï¼ˆç„¡è«–æ˜¯äººé¡é‚„æ˜¯ AIï¼‰å¿«é€Ÿä¸Šæ‰‹æœ¬å°ˆæ¡ˆçš„ç”Ÿå­˜æŒ‡å—ã€‚è¨˜è¼‰äº†ç‰¹æ®Šçš„é–‹ç™¼ç’°å¢ƒæ¶æ§‹ã€ç·¨è­¯æµç¨‹ä»¥åŠå”ä½œè¦ç¯„ã€‚

---

## 1. å°ˆæ¡ˆåŸºç¤ (Project Basics)

- **å°ˆæ¡ˆåç¨±**ï¼šBlogMix v2
- **æŠ€è¡“æ¶æ§‹**ï¼š
    - **å¾Œç«¯**ï¼šLaravel 11 (PHP 8.2+)
    - **å‰ç«¯**ï¼šVue 3 + PrimeVue 4 (Composition API)
    - **API é©—è­‰**ï¼šLaravel Sanctum
- **æ ¹ç›®éŒ„**ï¼š`v:\PHP\Laravel-BlogMix-master\v2`

## 1.1 æ¸¬è©¦å¸³è™Ÿ (Test Accounts) ğŸ§ª

| è§’è‰² | Email | Password | å‚™è¨» |
| :--- | :--- | :--- | :--- |
| **Admin** | `admin@example.com` | `password` | Seeder é è¨­å»ºç«‹ |
| **Member** | `test@example.com` | `password` | ä¸€èˆ¬æœƒå“¡ (é è¨­æ¸¬è©¦å¸³è™Ÿ) |
| **Member** | *(è«‹è‡ªè¡Œè¨»å†Š)* | - | å¯é€é `/register` å»ºç«‹ |

## 1.2 æ–‡ä»¶å°è¦½ (Document Map) ğŸ—ºï¸
æƒ³äº†è§£å°ˆæ¡ˆçš„ä¸åŒé¢å‘ï¼Œè«‹åƒé–±ï¼š

| æƒ³äº†è§£ä»€éº¼ï¼Ÿ | å»ºè­°é–±è®€ | æ–‡ä»¶é‡é» |
| :--- | :--- | :--- |
| **ç³»çµ±éƒ½åœ¨åšä»€éº¼ï¼Ÿ** (SA) | [`project_specification.md`](./project_specification.md) | ä½¿ç”¨è€…è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½ã€å•†æ¥­æµç¨‹ (User Flows) |
| **è³‡æ–™åº«èˆ‡æ¶æ§‹ï¼Ÿ** (SD) | [`technical_design.md`](./technical_design.md) | DB Schemaã€API è¨­è¨ˆã€ç›®éŒ„çµæ§‹ |
| **é–‹ç™¼è¦ç¯„èˆ‡ç¾å­¸ï¼Ÿ** | [`constitution.md`](./constitution.md) | å‘½åè¦å‰‡ã€ç¨‹å¼ç¢¼é¢¨æ ¼ã€UI è¨­è¨ˆåŸå‰‡ |
| **æ€éº¼è·‘èµ·ä¾†ï¼Ÿ** | [`Project_Handbook.md`](./Project_Handbook.md) | **(æœ¬æ–‡ä»¶)** ç’°å¢ƒå»ºç½®ã€ç·¨è­¯æµç¨‹ã€å¸¸è¦‹å•é¡Œ |

---

## 2. ç‰¹æ®Šç·¨è­¯æ¶æ§‹ (Special Compile Architecture) âš ï¸

**æ¥µåº¦é‡è¦**ï¼šç”±æ–¼å°ˆæ¡ˆä½æ–¼ç¶²è·¯ç£ç¢Ÿæ©Ÿ (`V:`) æˆ– VM å…±äº«è³‡æ–™å¤¾ï¼Œç›´æ¥åœ¨è©²ç›®éŒ„ä¸‹åŸ·è¡Œ `npm run build` æˆ– `npm install` ç¶“å¸¸å› æª”æ¡ˆé–å®š (File Locking) æˆ– I/O å»¶é²è€Œå¤±æ•—ã€‚

å› æ­¤ï¼Œæˆ‘å€‘æ¡ç”¨ **ã€ŒTemp Build Strategyã€ (æš«å­˜ç·¨è­¯ç­–ç•¥)**ã€‚

### 2.1 æ¨™æº–ç·¨è­¯æµç¨‹ (Standard Build Flow)
ç•¶éœ€è¦ç·¨è­¯å‰ç«¯ (Vite Build) æ™‚ï¼Œè«‹**å‹™å¿…**éµå¾ªä»¥ä¸‹æ­¥é©Ÿï¼š

1.  **è¤‡è£½åŸå§‹ç¢¼**ï¼šå°‡ `resources/js` èˆ‡å¿…è¦è¨­å®šæª”è¤‡è£½åˆ° `%TEMP%` ç›®éŒ„ã€‚
2.  **åŸ·è¡Œç·¨è­¯**ï¼šåœ¨ `%TEMP%` ç›®éŒ„ä¸‹åŸ·è¡Œ `npm install` èˆ‡ `npm run build`ã€‚
3.  **åŒæ­¥ç”¢ç‰©**ï¼šå°‡ç·¨è­¯çµæœ (`public/build`) è¤‡è£½å› `V:` å°ˆæ¡ˆç›®éŒ„ã€‚

### 2.2 PowerShell è‡ªå‹•åŒ–è…³æœ¬ (Auto Script)
æ¨™æº–è‡ªå‹•åŒ–è…³æœ¬ä½æ–¼ `scripts/safe_build.ps1`ã€‚
è©²è…³æœ¬æœƒåŸ·è¡Œï¼š
1. æ¸…ç† `%TEMP%`ã€‚
2. å¤–ç§‘æ‰‹è¡“å¼è¤‡è£½ (Surgical Copy) åŸå§‹ç¢¼ã€‚
3. åŸ·è¡Œ `npm install` & `npm run build`ã€‚
4. å°‡ `public/build` åŒæ­¥å›å°ˆæ¡ˆã€‚

æ‚¨ä¹Ÿå¯ä»¥ç›´æ¥åŸ·è¡Œæ ¹ç›®éŒ„ä¸‹çš„ `sync_build.bat` ä¾†è§¸ç™¼æ­¤è…³æœ¬ã€‚

### 2.3 é™¤éŒ¯æ—¥èªŒ (Logs & Debugging) ğŸ
- **æ‡‰ç”¨ç¨‹å¼æ—¥èªŒ (Application Log)**ï¼š
    - è·¯å¾‘ï¼š`v:\PHP\Laravel-BlogMix-master\v2\storage\logs\laravel.log`
    - èªªæ˜ï¼šæ‰€æœ‰ Laravel éŒ¯èª¤ã€Exception èˆ‡æ‰‹å‹• `Log::info()` çš†æœƒå¯«å…¥æ­¤è™•ã€‚
- **å®¹å™¨æ—¥èªŒ (Container Log)**ï¼š
    - æŒ‡ä»¤ï¼š`ssh feb16@10.13.1.20 "wsl docker compose logs -f --tail=100 blogmix"`
    - èªªæ˜ï¼šæŸ¥çœ‹ Nginx/PHP-FPM çš„å•Ÿå‹•éŒ¯èª¤æˆ– Standard Outputã€‚

---

## 3. é–‹ç™¼è¦ç¯„ (Development Standards)

### 3.1 èªè¨€éµå¾‹ (Language Rule)
-   **è¨»è§£ (Comments)**ï¼šæ‰€æœ‰åŸå§‹ç¢¼çš„è¨»è§£**å¿…é ˆä½¿ç”¨ç¹é«”ä¸­æ–‡**ã€‚
-   **Commit Message**ï¼šå»ºè­°ä½¿ç”¨è‹±æ–‡ (éµå¾ª Semantic Commit)ï¼Œä½†è©³ç´°æè¿°å¯ä½¿ç”¨ä¸­æ–‡ã€‚
-   **æ–‡ä»¶ (Docs)**ï¼šMarkdown æ–‡ä»¶å„ªå…ˆä½¿ç”¨ç¹é«”ä¸­æ–‡ã€‚

### 3.2 ç¨‹å¼ç¢¼é¢¨æ ¼ (Code Style)
-   **Vue Component**ï¼š
    -   å¿…é ˆä½¿ç”¨ `<script setup>`ã€‚
    -   å…ƒä»¶å‘½åæ¡ PascalCase (å¦‚ `AppNavbar.vue`)ã€‚
    -   æ¨£å¼å„ªå…ˆä½¿ç”¨ Tailwind CSSï¼Œè¼”ä»¥ PrimeVue å…ƒä»¶ã€‚
-   **Laravel Controller**ï¼š
    -   å•†æ¥­é‚è¼¯æ‡‰å°è£æ–¼ Service æˆ– Model ä¸­ï¼ŒController åƒ…è² è²¬ Request/Responseã€‚
    -   API Return æ‡‰ä¿æŒçµ±ä¸€æ ¼å¼ JSONã€‚

---

## 4. AI å”ä½œæŒ‡å— (AI Vibe Spec) ğŸ¤–

ç•¶ AI Agent æ¥æ‰‹æ­¤å°ˆæ¡ˆæ™‚ï¼Œè«‹å…ˆåŸ·è¡Œä»¥ä¸‹ã€Œå„€å¼ã€ï¼š

1.  **è®€å–æ‰‹å†Š**ï¼šé–±è®€æœ¬æª”æ¡ˆ (`Project_Handbook.md`) ç¢ºèªç’°å¢ƒé™åˆ¶ã€‚
2.  **ç¢ºèªä»»å‹™**ï¼šè®€å– `task.md` ç¢ºèªç•¶å‰é€²åº¦ç‹€æ…‹ã€‚
3.  **æª¢æŸ¥ä¾è³´**ï¼šè‹¥é‡åˆ°å‰ç«¯éŒ¯èª¤ï¼Œå„ªå…ˆæ‡·ç–‘æ˜¯ `V:` ç£ç¢Ÿ I/O å•é¡Œï¼Œä¸¦åˆ‡æ›è‡³ Temp Build æ¨¡å¼ã€‚

### å¸¸è¦‹å•é¡Œæ’é™¤ (Troubleshooting)
-   **Q: `npm run build` é¡¯ç¤º `EPERM` æˆ– `Resource busy`?**
    -   A: é€™æ˜¯å› ç‚ºåœ¨ `V:` åŸ·è¡Œã€‚è«‹åˆ‡æ›åˆ° Temp ç›®éŒ„åŸ·è¡Œã€‚
-   **Q: ç€è¦½å™¨çœ‹ä¸åˆ°æ›´æ–°?**
    -   A: æª¢æŸ¥ `public/build/manifest.json` æ˜¯å¦å·²åŒæ­¥å› `V:`ï¼Œä¸¦å˜—è©¦ Hard Reloadã€‚
-   **Q: `robocopy` å¡åœ¨ `public/storage` æˆ–å‡ºç¾ Error 1920?**
    -   A: é€™æ˜¯ Symlink é€ æˆçš„æ­»é–ã€‚**çµ•å°ä¸è¦** å°æ•´å€‹å°ˆæ¡ˆåŸ·è¡Œ `robocopy /MIR`ã€‚è«‹æ”¹ç”¨ [`2.2 ç« ç¯€`](#22-powershell-è‡ªå‹•åŒ–è…³æœ¬-auto-script) çš„ã€Œå¤–ç§‘æ‰‹è¡“å¼è¤‡è£½ã€è…³æœ¬ï¼Œå®Œå…¨é¿é–‹ `public` ç›®éŒ„ã€‚
-   **Q: åœ–ç‰‡ç„¡æ³•ä¸Šå‚³/é¡¯ç¤º?**
    -   A: Windows Symlink æ”¯æ´åº¦ä¸ä½³ã€‚è«‹æª¢æŸ¥æ˜¯å¦ä½¿ç”¨äº†è‡ªå®šç¾©è·¯ç”± `/assets/storage/` (ç”± Controller ä»£ç†è®€å–)ã€‚

---

*Last Updated: 2026-01-05*
